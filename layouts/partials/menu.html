{{- $currentPage := . -}}
<div class="contents" x-data="{ open: false }">
  <button class="justify-self-end whitespace-nowrap col-start-5 col-span-2" @click="open = !open">
    <i class="fas fa-bars"></i>
    <span class="ml-1 font-medium">Menu</span>
  </button>
  <div @click="open = false" class="js-hidden absolute inset-0 transition ease-out duration-300 z-40 bg-black bg-opacity-70 fancy-blur" x-show="open" x-transition:enter-start="opacity-0" x-transition:enter-end="opacity-100" x-transition:leave-start="opacity-100" x-transition:leave-end="opacity-0"></div>
  <div
    class="js-hidden w-full sm:w-1/2 lg:w-1/3 absolute z-50 shadow-xl bg-white dark:bg-gray-800 right-0 top-0 bottom-0 flex flex-col h-full bg-black"
    x-show="open"
    x-transition:enter="transition ease-out duration-300" 
    x-transition:enter-start="transform translate-x-full" 
    x-transition:enter-end="transform translate-x-0"
    x-transition:leave="transition ease-out duration-300"
    x-transition:leave-start="transform translate-x-0"
    x-transition:leave-end="transform translate-x-full">
    <div class="flex flex-col h-full">

      <div class="h-20 flex items-center justify-end px-6">
        <button @click="open = false">
          <i class="fas fa-times"></i>
          <span class="ml-1 font-medium">Close Menu</span>
        </button>
      </div>
      <nav class="p-6 pt-0 flex-1">
        <ul class="text-3xl">
        {{ range site.Menus.main }}
        <li class="mb-6 last:mb-0">
          <a href="{{ .URL }}" class="block">
            {{ with .Pre }}<span class="w-12 mr-4 text-center inline-block"><i class="{{ . }}"></i></span>{{ end -}}
            <span>{{ .Name }}</span>
          </a>
        </li>
        {{ end }}
        </ul>
      </nav>
      <nav class="social pb-6">
        <ul class="flex text-3xl justify-center">
          {{ range site.Menus.social }}
          <li class="mr-6 last:mr-0">
            <a href="{{ .URL }}">
              {{ .Pre }}
              <span class="sr-only">{{ .Name }}</span>
            </a>
          </li>
          {{ end }}
        </ul>
      </nav>

    </div>
  </div>
</div>